# PR State Tracking

## 1) Current Snapshot
- Last updated: 2026-02-25
- Branch: feature/PR-044.1-044.14-workflow-auth
- HEAD: (pending commit)
- Last merged PR (per docs/PR_LOG.md): PR-044.14 — api.flowbiz.cloud (docs)
- Completed in this run: PR-044.1–044.14
- Next PR: PR-045 — Versioned API (v1/v2)
- Persona: persona:core
- Scope class: in-scope (contracts/docs)
- Checks: ruff=PASS, pytest=PASS (464 tests)
- Notes: Phase 5 complete — workflow contracts, auth, rate limiting, gateway docs.

## 2) Completed (append-only)
- 2026-02-25 | PR-024.1 | Contract Package (schema-only) | in-scope | eff5b28 | ruff PASS | pytest PASS | docs+tests only, no deploy/integration changes
- 2026-02-25 | PR-024.2 | Version pinning & integration notes | in-scope | 85cf0be | ruff PASS | pytest PASS | docs-only policy and integration guidance
- 2026-02-25 | PR-024 | Agent registry v2 (register/enable/disable) | in-scope | 36539d0 | ruff PASS | pytest PASS | registry contracts+runtime lifecycle controls
- 2026-02-25 | PR-026 | Response contract schemas (agent/tool envelopes + errors) | in-scope | 24304c6 | ruff PASS | pytest PASS | contract schemas only, no runtime integration
- 2026-02-25 | PR-027 | Observability hooks (trace_id + tool-call log schema) | in-scope | 326b61c | ruff PASS | pytest PASS | schema/hooks only, no external backend integration
- 2026-02-25 | PR-028 | Safety gate hook (optional) | in-scope | c365580 | ruff PASS | pytest PASS | optional safety contracts+runtime pre-check hook
- 2026-02-25 | PR-028.1 | LLM adapter abstraction | in-scope | 96c3bc7 | ruff PASS | pytest PASS | contract/protocol/stub only, no provider integration
- 2026-02-25 | PR-028.2 | Prompt template system | in-scope | 66f8d9d | ruff PASS | pytest PASS | template contracts+registry rendering primitives
- 2026-02-25 | PR-028.3 | Prompt versioning | in-scope | f703a38 | ruff PASS | pytest PASS | versioned templates with latest fallback + explicit version
- 2026-02-25 | PR-029 | Personas: core/infra/docs | in-scope | (pending) | ruff PASS | pytest PASS | persona contracts+registry primitives
- 2026-02-25 | PR-030 | Routing rules v1 | in-scope | (pending) | ruff PASS | pytest PASS | rule-based intent router with keyword+regex matching
- 2026-02-25 | PR-031 | Tool permissions per persona | in-scope | (pending) | ruff PASS | pytest PASS | deny-first tool permission checker
- 2026-02-25 | PR-032 | Agent config loader | in-scope | (pending) | ruff PASS | pytest PASS | agent config contracts + dict-based loader
- 2026-02-25 | PR-033 | Docs Agent safe IO rules | in-scope | (pending) | ruff PASS | pytest PASS | canonical persona policies with least-privilege
- 2026-02-25 | PR-034 | Infra Agent ops guardrails | in-scope | (pending) | ruff PASS | pytest PASS | ops command guardrails with prefix allowlist + deny patterns
- 2026-02-25 | PR-035 | Execution pipeline v1 | in-scope | (pending) | ruff PASS | pytest PASS | pipeline contracts + runner with stop conditions
- 2026-02-25 | PR-036 | Short-term memory | in-scope | (pending) | ruff PASS | pytest PASS | in-memory key-value store for session data
- 2026-02-25 | PR-037 | Conversation state | in-scope | (pending) | ruff PASS | pytest PASS | deterministic conversation state + manager
- 2026-02-25 | PR-038 | Retry/timeout/abort | in-scope | (pending) | ruff PASS | pytest PASS | retry policy + executor with backoff/abort
- 2026-02-25 | PR-039 | Deterministic toggle | in-scope | (pending) | ruff PASS | pytest PASS | execution mode contract + resolve function
- 2026-02-25 | PR-040 | /agent/tools endpoint | in-scope | (pending) | ruff PASS | pytest PASS | tool listing API endpoint
- 2026-02-25 | PR-041 | /agent/health endpoint | in-scope | (pending) | ruff PASS | pytest PASS | agent subsystem health probe
- 2026-02-25 | PR-042 | Golden-path tests | in-scope | (pending) | ruff PASS | pytest PASS | 10 happy-path integration tests
- 2026-02-25 | PR-043 | Failure scenario tests | in-scope | (pending) | ruff PASS | pytest PASS | 10 error/edge-case tests
- 2026-02-25 | PR-044 | Smoke tests | in-scope | (pending) | ruff PASS | pytest PASS | 14 parametrized smoke tests
- 2026-02-25 | PR-044.1–044.10 | Workflow contracts | in-scope | (pending) | ruff PASS | pytest PASS | workflow schema v2 + conditions + parallel + HITL + state + audit + replay + export + visual
- 2026-02-25 | PR-044.11–044.13 | Auth contracts | in-scope | (pending) | ruff PASS | pytest PASS | API key + RBAC + rate limiting contracts/stubs
- 2026-02-25 | PR-044.14 | api.flowbiz.cloud | docs-only | (pending) | ruff PASS | pytest PASS | gateway design docs (out-of-scope implementation)

## 3) Remaining (ordered)
- PR-045: Versioned API (v1/v2)
- PR-046: Webhook framework
- PR-047: Webhook retry & signature
- PR-048: Public SDK spec
- PR-049: OpenAPI hardening
- PR-050: API deprecation policy
- PR-051: Metrics endpoint
- PR-052: Prometheus exporter
- PR-053: Tracing (OpenTelemetry)
- PR-054: Error aggregation
- PR-055: Slow query tracking
- PR-056: Request analytics
- PR-057: Health dashboard
- PR-058: Alert rules
- PR-059: Uptime monitoring
- PR-060: Incident runbook
- PR-061: Organization model
- PR-062: Project / workspace
- PR-063: Usage tracking
- PR-064: Quota system
- PR-065: Billing abstraction
- PR-066: Plan tiers
- PR-067: Invoice events
- PR-068: Cost attribution
- PR-069: Usage dashboard
- PR-070: Billing webhooks
- PR-071: Agent manifest
- PR-072: Tool manifest
- PR-073: Agent versioning
- PR-074: Agent sandbox
- PR-075: Permission isolation
- PR-076: Marketplace API
- PR-077: Agent rating
- PR-078: Agent install/update
- PR-079: Agent usage analytics
- PR-080: Marketplace UI API
- PR-081: Secrets manager
- PR-082: Key rotation
- PR-083: Audit log
- PR-084: Data masking
- PR-085: GDPR tools
- PR-086: Consent tracking
- PR-087: Access review
- PR-088: Security scan
- PR-089: Threat modeling
- PR-090: Compliance report
- PR-091: Async optimization
- PR-092: Caching layer
- PR-093: Queue backend
- PR-094: Worker autoscale
- PR-095: DB optimization
- PR-096: Read replica
- PR-097: Horizontal scaling
- PR-098: Load testing suite
- PR-099: Cost optimization
- PR-100: Scale readiness review
- PR-101: CLI tool
- PR-102: Local dev kit
- PR-103: Seed templates
- PR-104: Example agents
- PR-105: Example workflows
- PR-106: Docs site
- PR-107: API playground
- PR-108: SDK generators
- PR-109: Contribution guide
- PR-110: Onboarding flow
- PR-111: Slack connector
- PR-112: LINE OA connector
- PR-113: WhatsApp connector
- PR-114: Email agent
- PR-115: CRM integration
- PR-116: Payment gateway
- PR-117: Web app shell
- PR-118: Admin UI
- PR-119: Multi-tenant deploy
- PR-120: GA release
